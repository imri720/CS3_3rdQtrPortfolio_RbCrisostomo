<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>View Sign-Ups</title>

<style>
  body{
    background-color: rgba(246, 218, 218, 0.8);
    color: rgb(54, 15, 15);
    font-family: Arial, sans-serif;
  }

  fieldset {
    margin-top: 12px;
    padding: 10px;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 10px;
    background-color: white;
  }

  th, td {
    border: 1px solid rgb(153, 116, 116);
    padding: 6px;
  }

  th {
    background-color: rgb(155, 116, 116);
    color: white;
  }
</style>

<script>
  let signups = [];

  function loadSignups() {
    signups = JSON.parse(localStorage.getItem("signups")) || [];
    populateClubs();
    displaySignups();
  }

  function populateClubs() {
    const clubSelect = document.getElementById("clubFilter");
    const clubs = [...new Set(signups.map(s => s.club))];

    clubs.forEach(club => {
      const option = document.createElement("option");
      option.value = club;
      option.textContent = club;
      clubSelect.appendChild(option);
    });
  }

  function displaySignups() {
    const selectedClub = document.getElementById("clubFilter").value;
    const tbody = document.getElementById("tableBody");
    const total = document.getElementById("total");

    tbody.innerHTML = "";

    let filtered = signups;

    if (selectedClub !== "ALL") {
      filtered = signups.filter(s => s.club === selectedClub);
    }

    total.textContent = filtered.length;

    if (filtered.length === 0) {
      tbody.innerHTML =
        "<tr><td colspan='7'>No Sign Ups for the club</td></tr>";
      return;
    }

    filtered.forEach(s => {
      tbody.innerHTML += `
        <tr>
          <td>${s.club}</td>
          <td>${s.id}</td>
          <td>${s.name}</td>
          <td>${s.grade}</td>
          <td>${s.email}</td>
          <td>${s.mobile}</td>
          <td>${s.status}</td>
        </tr>`;
    });
  }
</script>
</head>

<body onload="loadSignups()">

<h1>List of Student Sign-ups</h1>

<a href="signup.html">Back to Signup</a>

<fieldset>
  <label>
    Select Your Club:
    <select id="clubFilter" onchange="displaySignups()">
      <option value="ALL">-- All Clubs --</option>
        <option>ACTS</option>
<option>AKSIS</option>
<option>Alianti</option>
<option>Animo Chess</option>
<option>AstroSoc</option>
<option>Atom</option>
<option>Bake Club</option>
<option>Bravura</option>
<option>CARE</option>
<option>Celluloid</option>
<option>Computron</option>
<option>Cuerdas Agham</option>
<option>Ellipsis</option>
<option>Exposure</option>
<option>Flux</option>
<option>Himig Agham</option>
<option>Intyale</option>
<option>Invictus</option>
<option>Kamalayan</option>
<option>Karyo</option>
<option>Kislap</option>
<option>Labuyo</option>
<option>Likha</option>
<option>Loqui</option>
<option>Math Club</option>
<option>Munhwa</option>
<option>Pallastro</option>
<option>Pendulum</option>
<option>PYHS</option>
<option>Pisay XYZ</option>
<option>Polvere</option>
<option>PSHS MUN</option>
<option>SARS+</option>
<option>SaGala</option>
<option>Sightlines</option>
<option>Sigasig</option>
<option>SCA</option>
<option>Tomorrow</option>
<option>Volant</option>
<option>YVS</option>

    </select>
  </label>

  <p>Total Signup: <strong><span id="total">0</span></strong></p>

  <table>
    <thead>
      <tr>
        <th>Club</th>
        <th>ID</th>
        <th>Fullname</th>
        <th>Grade</th>
        <th>Email</th>
        <th>Mobile Number</th>
        <th>Intern / Extern</th>
      </tr>
    </thead>
    <tbody id="tableBody"></tbody>
  </table>
</fieldset>

</body>
</html>
